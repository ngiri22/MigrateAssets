buildscript {
    repositories {
        mavenCentral()
    }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'


repositories {
	mavenLocal()
    mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = 'com.nttdata.lumileds.opentext.migration.LMMFileRename'


dependencies {
	compile("org.dom4j:dom4j:2.0.2")
	compile("org.slf4j:slf4j-log4j12:1.7.25")
	compile("com.microsoft.sqlserver:mssql-jdbc:6.5.4.jre8-preview")
	compile("com.h2database:h2:1.4.197")
}

sourceSets {
    main.java.srcDir "src/main/java"
    main.resources.srcDir "src/main/resources"
}

jar {
  manifest {
    attributes(
      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
      'Main-Class': 'com.nttdata.lumileds.opentext.migration.LMMFileRename'
      )
  }
  
  from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }
  
  exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'
}
